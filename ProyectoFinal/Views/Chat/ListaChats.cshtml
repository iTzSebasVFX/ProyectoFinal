@model Dictionary<int, string>
<link rel="stylesheet" href="~/css/Lista_chat.css" asp-append-version="true">
<script src="https://kit.fontawesome.com/0ec24d2dc8.js" crossorigin="anonymous"></script>

<body>
    <nav class="menu">
        <div class="pepe">
            <button class="button type1">
                <span class="btn-txt"><i class="fa-solid fa-caret-left fa-beat"></i><a class="decoracion"
                        asp-action="Principal" asp-controller="UserPerfil">Volver</a></span>
            </button>

        </div>
        <h3>Elite Chats</h3>
    </nav>

    <div>
        <a asp-action="CrearRoom" asp-controller="Chat">Crear Nuevo Room</a>
    </div>
    
    <div class="chat-container">
        <ul class="chat-list">
            @{
                var imagenes = new Dictionary<int, string>
                        {
                        { 1, "/imgs/music.jpg" },
                        { 2, "/imgs/juegos.jpeg" },
                        { 3, "/imgs/cine.jpg" }
                        };
            }
            @foreach (var chat in Model)
            {
                var id = chat.Key;
                var nombre = chat.Value;
                var imgUrl = imagenes.ContainsKey(id) ? imagenes[id] : "/imgs/default.png";
                <li class="ppe">
                    <div class="card">
                        <div class="content">
                            <!-- Parte trasera -->
                            <div class="back">
                                <div class="back-content">
                                    <!-- Imagen encima del tÃ­tulo -->
                                    <img src="@Url.Content(imgUrl)" alt="Icono de @nombre" class="chat-img" />

                                    <!-- SVG opcional -->
                                    <svg stroke="#ffffff" xmlns:xlink="http://www.w3.org/1999/xlink"
                                        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" height="50px" width="50px"
                                        fill="#ffffff">
                                        <g stroke-width="0" id="SVGRepo_bgCarrier"></g>
                                        <g stroke-linejoin="round" stroke-linecap="round" id="SVGRepo_tracerCarrier"></g>
                                        <g id="SVGRepo_iconCarrier"></g>
                                    </svg>
                                </div>
                                <span class="titleimg">@chat.Value</span>
                            </div>

                            <!-- Parte frontal -->
                            <div class="front">
                                <div class="img">
                                    <div class="circle"></div>
                                    <div class="circle" id="right"></div>
                                    <div class="circle" id="bottom"></div>
                                </div>

                                <div class="front-content">
                                    <small class="badge">Chat de @chat.Value</small>
                                    <div class="description">
                                        <div class="title">
                                            <p class="title">
                                                <a asp-controller="Chat" asp-action="chat" asp-route-idChat="@chat.Key">
                                                    <button>Ingresar</button>
                                                </a>
                                            </p>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </li>
            }
        </ul>

        @if (TempData["Error"] != null)
        {
            <div class="alert alert-danger" id="alertError">
                @TempData["Error"]
            </div>
        }
    </div>

    <script asp-append-version="true">
        setTimeout(() => {
            let alertElement = document.getElementById("alertError");
            if (alertElement) {
                alertElement.style.display = "none";
            }
        }, 5000); // Desaparece en 5 segundos
    </script>
    <script src="~/js/Tema.js"></script>

</body>